(function(){"use strict";try{if(typeof document<"u"){var M=document.createElement("style");M.appendChild(document.createTextNode(".verification_code_container{position:relative;font-size:0}.verification_code_container .verification_code_block{position:absolute;top:0;left:0}.verification_code_container .verification_code_sliderContainer{height:40px;position:relative;background-color:#e4e7eb;font-size:14px}.verification_code_container .verification_code_sliderContainer .verification_code_sliderBg{position:absolute;top:1px;bottom:1px;left:1px;right:1px;background-color:#f7f9fa;display:flex;align-items:center;justify-content:center}.verification_code_container .verification_code_sliderContainer .verification_code_sliderBg .verification_code_tip_text{font-size:14px;color:#909399}.verification_code_container .verification_code_sliderContainer .verification_code_track{box-sizing:border-box;position:absolute;top:0;left:0;width:0;height:40px;overflow:hidden}.verification_code_container .verification_code_sliderContainer .verification_code_track .verification_code_track_content{box-sizing:border-box;width:auto;height:40px;background-color:#d1e9fe;border-style:solid;border-width:1px 0 1px 1px;border-color:#1991fa}.verification_code_container .verification_code_sliderContainer .verification_code_slider{box-sizing:border-box;width:40px;height:40px;position:absolute;top:0;left:0;background-color:#1991fa;box-shadow:0 0 3px #0000004d;cursor:pointer;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNzAzNTcwOTg1ODE2IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjQ3MDIiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNDgiIGhlaWdodD0iNDgiPjxwYXRoIGQ9Ik04NjkgNDg3LjhMNDkxLjIgMTU5LjljLTIuOS0yLjUtNi42LTMuOS0xMC41LTMuOWgtODguNWMtNy40IDAtMTAuOCA5LjItNS4yIDE0bDM1MC4yIDMwNEgxNTJjLTQuNCAwLTggMy42LTggOHY2MGMwIDQuNCAzLjYgOCA4IDhoNTg1LjFMMzg2LjkgODU0Yy01LjYgNC45LTIuMiAxNCA1LjIgMTRoOTEuNWMxLjkgMCAzLjgtMC43IDUuMi0yTDg2OSA1MzYuMmMxNC43LTEyLjggMTQuNy0zNS42IDAtNDguNHoiIHAtaWQ9IjQ3MDMiIGZpbGw9IiNmZmZmZmYiPjwvcGF0aD48L3N2Zz4=);background-size:26px 26px;background-repeat:no-repeat;background-position:center}.verification_code_container .verification_code_refreshIcon{display:block;position:absolute;top:0;right:0;width:30px;height:30px;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNzAzNDk4NTQ3MTQ5IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE5MDkiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNDgiIGhlaWdodD0iNDgiPjxwYXRoIGQ9Ik01MTIgMTY2LjRjLTcwLjQgMC0xMzQuNCAxOS4yLTE5MiA1Ny42TDI5NC40IDE4NS42QzI4MS42IDE2Ni40IDI1NiAxNzIuOCAyNDkuNiAxOTJMMjA0LjggMzMyLjhDMjA0LjggMzQ1LjYgMjE3LjYgMzY0LjggMjMwLjQgMzY0LjhsMTQ3LjItNi40YzE5LjIgMCAzMi0yNS42IDE5LjItMzguNEwzNjQuOCAyODEuNmwwIDAgMC02LjRDNDAzLjIgMjQzLjIgNDYwLjggMjMwLjQgNTEyIDIzMC40YzE1My42IDAgMjgxLjYgMTI4IDI4MS42IDI4MS42cy0xMjggMjgxLjYtMjgxLjYgMjgxLjYtMjgxLjYtMTI4LTI4MS42LTI4MS42YzAtMTkuMi0xMi44LTMyLTMyLTMyUzE2Ni40IDQ5Mi44IDE2Ni40IDUxMmMwIDE5MiAxNTMuNiAzNDUuNiAzNDUuNiAzNDUuNlM4NTcuNiA3MDQgODU3LjYgNTEyIDcwNCAxNjYuNCA1MTIgMTY2LjR6IiBmaWxsPSIjZmZmZmZmIiBwLWlkPSIxOTEwIj48L3BhdGg+PC9zdmc+);background-size:108% 108%;background-repeat:no-repeat;border:none;outline:none;overflow:hidden;cursor:pointer;opacity:.7;border:5px solid transparent}.verification_code_container .verification_code_loadingMask{position:absolute;top:0;bottom:0;left:0;right:0;background-color:#0003;display:flex;align-items:center;justify-content:center}.verification_code_container .verification_code_loadingMask .verification_code_loadingIcon{width:40px;height:40px;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNzAzNTcxOTk5OTMwIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9Ijc3NzciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNDgiIGhlaWdodD0iNDgiPjxwYXRoIGQ9Ik01MTEuODgyNTk2IDI4Ny45OTgwODFoLTAuMzYxMjQ0YTMxLjk5ODk4NCAzMS45OTg5ODQgMCAwIDEtMzEuNjU5NDE1LTMxLjk3NzMwOXYtMC4zNjEyNDRjMC0wLjEwNDc2MSAwLjExNTU5OC0xMS43MjIzNjQgMC4xMTU1OTgtNjMuNjU4Mzk5Vjk2LjAwMDU2NGEzMS45OTg5ODQgMzEuOTk4OTg0IDAgMSAxIDY0LjAwMTU4MSAwVjE5Mi4wMDExMjljMCA1Mi41ODYyNzMtMC4xMTE5ODYgNjMuODgyMzctMC4xMTkyMTEgNjQuMzM3NTM3YTMyLjAwMjU5NiAzMi4wMDI1OTYgMCAwIDEtMzEuOTc3MzA5IDMxLjY1OTQxNXpNNTExLjk5ODE5NCA5NTkuOTk4NDJhMzEuOTk4OTg0IDMxLjk5ODk4NCAwIDAgMS0zMS45OTg5ODQtMzEuOTk4OTg0di05Ni4zNzk4NzFjMC01MS42MTA5MTUtMC4xMTE5ODYtNjMuMTc0MzMyLTAuMTE1NTk4LTYzLjI4NjMxOHMwLTAuMjQyMDMzIDAtMC4zNjEyNDNhMzEuOTk4OTg0IDMxLjk5ODk4NCAwIDAgMSA2My45OTc5NjgtMC4zMTQyODNjMCAwLjQ1NTE2NyAwLjExOTIxIDExLjcxMTUyNyAwLjExOTIxIDY0LjAzNDA5M3Y5Ni4zMDc2MjJhMzEuOTk4OTg0IDMxLjk5ODk4NCAwIDAgMS0zMi4wMDI1OTYgMzEuOTk4OTg0ek0zMzAuODk5NDA2IDM2My4wMjEyMTJhMzEuODk3ODM2IDMxLjg5NzgzNiAwIDAgMS0yMi44NjY3MzktOS42MTI2OTljLTAuMDc1ODYxLTAuMDc1ODYxLTguMjA3NDYxLTguMzcwMDIxLTQ0LjkzMTUxNS00NS4wOTQwNzZMMTk1LjE5ODEzNyAyNDAuNDI5NDg1YTMxLjk5ODk4NCAzMS45OTg5ODQgMCAwIDEgNDUuMjU2NjM1LTQ1LjI1MzAyMkwzMDguMzM2MTEyIDI2My4wNTc4MDNjMzcuMTgyODM0IDM3LjE4MjgzNCA0NS4wOTA0NjMgNDUuMjUzMDIyIDQ1LjQxMTk3IDQ1LjU3ODE0MUEzMS45OTg5ODQgMzEuOTk4OTg0IDAgMCAxIDMzMC44OTk0MDYgMzYzLjAyMTIxMnpNODA2LjEzNzQyMSA4MzguMTE0NzNhMzEuOTAxNDQ4IDMxLjkwMTQ0OCAwIDAgMS0yMi42MjgzMTgtOS4zNzQyNzlMNzE1LjYyNDE1MSA3NjAuODU5MTExYy0zNi43MjQwNTQtMzYuNzI0MDU0LTQ1LjAxODIxNC00NC44NTkyNjctNDUuMDk3Njg3LTQ0LjkzODc0YTMxLjk5ODk4NCAzMS45OTg5ODQgMCAwIDEgNDQuNzc2MTgtNDUuNzI5ODY0YzAuMzI1MTIgMC4zMTc4OTUgOC4zOTUzMDggOC4yMjkxMzYgNDUuNTc4MTQyIDQ1LjQxMTk2OWw2Ny44ODEzNCA2Ny44ODEzNGEzMS45OTg5ODQgMzEuOTk4OTg0IDAgMCAxLTIyLjYyNDcwNSA1NC42MzA5MTR6TTIyNC4wMDAxMTMgODM4LjExNDczYTMxLjkwMTQ0OCAzMS45MDE0NDggMCAwIDAgMjIuNjI4MzE3LTkuMzc0Mjc5bDY3Ljg4MTM0LTY3Ljg4MTM0YzM2LjcyNDA1NC0zNi43MjQwNTQgNDUuMDIxODI2LTQ0Ljg1OTI2NyA0NS4wOTc2ODgtNDQuOTM4NzRhMzEuOTk4OTg0IDMxLjk5ODk4NCAwIDAgMC00NC43NzYxODEtNDUuNzI5ODY0Yy0wLjMyNTEyIDAuMzE3ODk1LTguMzk1MzA4IDguMjI5MTM2LTQ1LjU3ODE0MiA0NS40MTE5NjlsLTY3Ljg4MTM0IDY3Ljg4NDk1M2EzMS45OTg5ODQgMzEuOTk4OTg0IDAgMCAwIDIyLjYyODMxOCA1NC42MjczMDF6TTI1NS45NDg1MjMgNTQ0LjA1ODU4OWgtMC4zNjEyNDRjLTAuMTA0NzYxIDAtMTEuNzIyMzY0LTAuMTE1NTk4LTYzLjY1ODM5OS0wLjExNTU5OEg5NS45NDI3NjVhMzEuOTk4OTg0IDMxLjk5ODk4NCAwIDEgMSAwLTY0LjAwMTU4aDk1Ljk5Njk1MmM1Mi41ODYyNzMgMCA2My44ODIzNyAwLjExMTk4NiA2NC4zMzc1MzggMC4xMTkyMWEzMS45OTg5ODQgMzEuOTk4OTg0IDAgMCAxIDMxLjY1OTQxNCAzMS45NzczMXYwLjM2MTI0NGEzMi4wMDI1OTYgMzIuMDAyNTk2IDAgMCAxLTMxLjk4ODE0NiAzMS42NTk0MTR6TTc2Ny45Mzk0OTIgNTQ0LjA1ODU4OWEzMi4wMDI1OTYgMzIuMDAyNTk2IDAgMCAxLTMxLjk5NTM3Mi0zMS42NjY2Mzl2LTAuMzYxMjQ0YTMxLjk5ODk4NCAzMS45OTg5ODQgMCAwIDEgMzEuNjU5NDE1LTMxLjk3MDA4NWMwLjQ1NTE2NyAwIDExLjc1NDg3Ni0wLjExOTIxIDY0LjM0MTE1LTAuMTE5MjFoOTYuMDAwNTY0YTMxLjk5ODk4NCAzMS45OTg5ODQgMCAwIDEgMCA2NC4wMDE1OEg4MzEuOTQ0Njg1Yy01MS45MzYwMzQgMC02My41NTM2MzggMC4xMTE5ODYtNjMuNjY1NjI0IDAuMTE1NTk4aC0wLjMzNTk1N3pNNjkyLjk5OTQ0NiAzNjMuMDE3NmEzMS45OTg5ODQgMzEuOTk4OTg0IDAgMCAxLTIyLjg2MzEyNi01NC4zODE2NTZjMC4zMTc4OTUtMC4zMjUxMiA4LjIyOTEzNi04LjM5NTMwOCA0NS40MTE5Ny00NS41NzgxNDFsNjcuODgxMzQtNjcuODg0OTUzQTMxLjk5ODk4NCAzMS45OTg5ODQgMCAxIDEgODI4LjY5MzQ4OSAyNDAuNDI5NDg1bC02Ny44OTIxNzcgNjcuODgxMzRjLTMxLjAyMDAxMyAzMS4wMjM2MjUtNDEuNjQ0MTk2IDQxLjc1OTc5NC00NC4yNDE1MzkgNDQuMzkzMjYybC0wLjY5NzIwMSAwLjcyMjQ4OGEzMS45MDg2NzMgMzEuOTA4NjczIDAgMCAxLTIyLjg2MzEyNiA5LjU5MTAyNXoiIGZpbGw9IiNmZmZmZmYiIHAtaWQ9Ijc3NzgiPjwvcGF0aD48L3N2Zz4=);background-size:100% 100%;background-repeat:no-repeat;background-position:center;animation:loading_ 2s infinite linear}.verification_code_container.dragging .verification_code_refreshIcon{display:none}.verification_code_container.success .verification_code_sliderContainer .verification_code_track .verification_code_track_content{background-color:#d2f4ef;border-color:#52ccba}.verification_code_container.success .verification_code_sliderContainer .verification_code_slider{background-color:#52ccba;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNzAzNTcxMjQ2MjI5IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjY3MDciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNDgiIGhlaWdodD0iNDgiPjxwYXRoIGQ9Ik04MjIuNDY0IDI2NS4zNDRhMjguMjU2IDI4LjI1NiAwIDAgMC00My4wNzIgMS4zMTJsLTM1Mi45NiA0MTcuNjY0LTE4MS45Mi0yMTIuOTkyYTI4LjI4OCAyOC4yODggMCAwIDAtNDMuMTA0LTEuMDg4IDM3LjEyIDM3LjEyIDAgMCAwLTAuOTYgNDguMjU2bDIwNC4wOTYgMjM4Ljk0NGM1Ljc2IDYuNzUyIDEzLjY5NiAxMC41NiAyMi4wMTYgMTAuNTZoMC4wOTZhMjkuMDg4IDI5LjA4OCAwIDAgMCAyMi4wNDgtMTAuNjU2TDgyMy42OCAzMTMuNmMxMS41Mi0xMy43MjggMTEuMDA4LTM1LjMyOC0xLjIxNi00OC4yNTYiIGZpbGw9IiNmZmZmZmYiIHAtaWQ9IjY3MDgiPjwvcGF0aD48L3N2Zz4=)}.verification_code_container.fail .verification_code_sliderContainer .verification_code_track .verification_code_track_content{background-color:#fce1e1;border-color:#f57a7a}.verification_code_container.fail .verification_code_sliderContainer .verification_code_slider{background-color:#f57a7a;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNzAzNTcxMTUwODk0IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjU3MDciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNDgiIGhlaWdodD0iNDgiPjxwYXRoIGQ9Ik01MDcuMTY4IDQ3My4yMzJMNzE2LjQ4IDI2My45MzZhMTYgMTYgMCAwIDEgMjIuNjI0IDBsMTEuMzEyIDExLjMxMmExNiAxNiAwIDAgMSAwIDIyLjYyNEw1NDEuMTIgNTA3LjE2OCA3NTAuNCA3MTYuNDhhMTYgMTYgMCAwIDEgMCAyMi42MjRsLTExLjMxMiAxMS4zMTJhMTYgMTYgMCAwIDEtMjIuNjI0IDBMNTA3LjE2OCA1NDEuMTIgMjk3Ljg3MiA3NTAuNGExNiAxNiAwIDAgMS0yMi42MjQgMGwtMTEuMzEyLTExLjMxMmExNiAxNiAwIDAgMSAwLTIyLjYyNGwyMDkuMjk2LTIwOS4zMTItMjA5LjI5Ni0yMDkuMjk2YTE2IDE2IDAgMCAxIDAtMjIuNjI0bDExLjMxMi0xMS4zMTJhMTYgMTYgMCAwIDEgMjIuNjI0IDBsMjA5LjI5NiAyMDkuMjk2eiIgZmlsbD0iI2ZmZmZmZiIgcC1pZD0iNTcwOCI+PC9wYXRoPjwvc3ZnPg==)}@keyframes loading_{0%{transform:rotate(0)}to{transform:rotate(360deg)}}")),document.head.appendChild(M)}}catch(i){console.error("vite-plugin-css-injected-by-js",i)}})();
(function(c){typeof define=="function"&&define.amd?define(c):c()})(function(){"use strict";var T=Object.defineProperty;var R=(c,l,v)=>l in c?T(c,l,{enumerable:!0,configurable:!0,writable:!0,value:v}):c[l]=v;var k=(c,l,v)=>(R(c,typeof l!="symbol"?l+"":l,v),v);const c="",g="向右滑动滑块填充拼图";function M(){return window.navigator.userAgent.indexOf("Trident")>-1}function b(s,i){return Math.round(Math.random()*(i-s)+s)}function C(s,i,t,o){s.beginPath(),s.moveTo(i,t),s.arc(i+40/2,t-7+2,7,.75*Math.PI,2.25*Math.PI),s.lineTo(i+40,t),s.arc(i+40+7-2,t+40/2,7,1.25*Math.PI,2.75*Math.PI),s.lineTo(i+40,t+40),s.lineTo(i,t+40),s.arc(i+7-2,t+40/2,7,2.75*Math.PI,1.25*Math.PI,!0),s.lineTo(i,t),s.fillStyle="rgba(255, 255, 255, 0.5)",s.fill(),s[o](),s.globalCompositeOperation=M()?"xor":"overlay"}function I(){const s=document.querySelector(".verification_code_loadingMask");s&&(s.style.display="flex")}function z(){const s=document.querySelector(".verification_code_loadingMask");s&&(s.style.display="none")}class y{constructor(i){k(this,"options");k(this,"doms");k(this,"vars",{trail:[],finish:!1});const t={width:300,height:150};this.options=Object.assign(t,i),this.doms=this.initDoms(),this.bindEvents(),this.initLoadImg()}initDoms(){const i=this.options.el;i.innerHTML="",i.classList.add("verification_code_container"),i.style.width=this.options.width+"px";const t=document.createElement("canvas");t.width=this.options.width,t.height=this.options.height,t.classList.add("verification_code_canvas");const o=t.cloneNode(!0);o.classList.add("verification_code_block");const n=document.createElement("div");n.classList.add("verification_code_sliderContainer"),n.innerHTML=`
      <div class='verification_code_sliderBg'>
        <span class='verification_code_tip_text'>${g}</span>
      </div>
      <div class='verification_code_track'>
        <div class='verification_code_track_content'></div>
      </div>
      <div class='verification_code_slider'></div>
    `;const d=document.createElement("div");d.classList.add("verification_code_refreshIcon");const r=document.createElement("div");return r.classList.add("verification_code_loadingMask"),r.innerHTML=`
      <div class='verification_code_loadingIcon'></div>
    `,i.appendChild(t),i.appendChild(o),i.appendChild(n),i.appendChild(d),i.appendChild(r),{el:i,canvas:t,canvasCtx:t.getContext("2d"),blockCanvas:o,blockCtx:o.getContext("2d"),refreshIcon:d,sliderContainer:n,sliderTrack:n.querySelector(".verification_code_track"),slider:n.querySelector(".verification_code_slider")}}initLoadImg(){I();const i=b(54,this.options.width-54),t=b(7*2,this.options.height-40);this.vars.blockX=i,this.vars.blockY=t,C(this.doms.canvasCtx,i,t,"fill"),C(this.doms.blockCtx,i,t,"clip");const o=new Image;o.crossOrigin="anonymous",o.src=this.options.imgArr[0],o.onload=()=>{this.doms.canvasCtx.drawImage(o,0,0,this.options.width,this.options.height),this.doms.blockCtx.drawImage(o,0,0,this.options.width,this.options.height);const n=this.doms.blockCtx.getImageData(i,t-7*2,54,54);this.doms.blockCanvas.width=54,this.doms.blockCtx.putImageData(n,0,t-7*2),z()},o.onerror=()=>{}}bindEvents(){let i,t,o=[],n=!1;this.doms.el.onselectstart=()=>!1,this.doms.refreshIcon.onclick=()=>{var e,a;this.reset(),(a=(e=this.options).onRefresh)==null||a.call(e)};const d=e=>{if(this.vars.finish)return!1;n=!0,i=e.clientX||e.touches[0].clientX,t=e.clientY||e.touches[0].clientY,this.doms.el.classList.add("dragging"),document.querySelector(".verification_code_tip_text").innerHTML=""},r=e=>{if(!n)return!1;const a=e.clientX||e.touches[0].clientX,p=e.clientY||e.touches[0].clientY,h=a-i,u=p-t;if(h<0||h+40>this.options.width)return!1;const f=(this.options.width-54)/(this.options.width-40)*h;this.doms.blockCanvas.style.left=f+"px",this.doms.sliderTrack.style.width=h+"px",this.doms.slider.style.left=h+"px",o.push(u)},m=e=>{var u,f,_,L,w,S;if(!n||(n=!1,this.vars.finish=!0,(e.clientX||e.changedTouches[0].clientX)==i))return!1;this.vars.trail=o;const{verified:p,success:h}=this.verify();h?(p?(this.doms.el.classList.add("success"),(f=(u=this.options).onSuccess)==null||f.call(u)):(this.doms.el.classList.add("fail"),(L=(_=this.options).onFail)==null||L.call(_)),this.doms.el.classList.remove("dragging")):(this.doms.el.classList.add("fail"),(S=(w=this.options).onFail)==null||S.call(w),setTimeout(()=>{this.doms.el.classList.remove("dragging"),this.reset()},800))};this.doms.slider.addEventListener("mousedown",d),this.doms.slider.addEventListener("touchstart",d),document.addEventListener("mousemove",r),document.addEventListener("touchmove",r),document.addEventListener("mouseup",m),document.addEventListener("touchend",m)}verify(){const i=this.vars.trail,t=i.reduce((e,a)=>e+a)/i.length,o=i.map(e=>e-t),d=Math.sqrt(o.map((e,a)=>e*a).reduce((e,a)=>e+a)/i.length)!==0,r=parseInt(this.doms.blockCanvas.style.left),m=this.vars.blockX&&Math.abs(r-this.vars.blockX)<5;return{verified:d,success:m}}reset(){this.vars={trail:[],finish:!1},this.doms.el.classList.remove("dragging","success","fail"),this.doms.blockCanvas.style.left="0px",this.doms.blockCanvas.width=this.options.width,this.doms.sliderTrack.style.width="0px",this.doms.slider.style.left="0px",this.doms.canvasCtx.clearRect(0,0,this.options.width,this.options.height),this.doms.blockCtx.clearRect(0,0,this.options.width,this.options.height),document.querySelector(".verification_code_tip_text").innerHTML=g,this.initLoadImg()}}window.CanvasVerificationCode=y});
